<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voter App - Multi-Round Voting System</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #1c1c1e;
            background: #f8fafc;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px;
        }

        .header {
            text-align: center;
            margin-bottom: 48px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
            letter-spacing: -0.02em;
        }

        .header p {
            font-size: 1.25rem;
            color: #64748b;
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto;
        }

        .main-content {
            flex: 1;
            min-width: 400px;
        }



        .game-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 48px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 32px;
        }



        .round-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 48px;
            gap: 8px;
        }

        .round {
            padding: 12px 24px;
            border-radius: 50px;
            background: #f1f5f9;
            color: #64748b;
            font-weight: 600;
            font-size: 0.95rem;
            border: 2px solid transparent;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .round.active {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
            transform: scale(1.05);
        }

        .section-title {
            font-size: 1.75rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .voters-section {
            margin-bottom: 48px;
        }

        .voters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 24px;
            margin-bottom: 24px;
        }

        .voter-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .voter-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .voter-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);
        }

        .voter-card:hover::before {
            transform: scaleX(1);
        }

        .voter-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 16px;
            text-align: center;
            font-size: 1.1rem;
        }

        .voter-status {
            text-align: center;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
            display: inline-block;
        }

        .voter-status.voted {
            background: #dcfce7;
            color: #166534;
        }

        .voter-status.pending {
            background: #fef3c7;
            color: #92400e;
        }

        .ideas-section {
            margin-bottom: 48px;
        }

        .ideas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .idea-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            position: relative;
            cursor: pointer;
            margin-bottom: 16px;
        }

        .idea-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border-color: #6366f1;
        }

        .idea-card.ranked {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-color: #6366f1;
        }

        .idea-card.moving {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .rank-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
        }



        .idea-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .idea-description {
            color: #64748b;
            font-size: 0.9rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }





        .vote-button {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(99, 102, 241, 0.2);
        }

        .vote-button:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .vote-button:disabled {
            background: #94a3b8;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        .results-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 48px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .result-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #10b981, #059669);
        }

        .result-card.winner::before {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }

        .result-score {
            font-size: 2rem;
            font-weight: 700;
            color: #10b981;
            margin-top: 12px;
        }

        .result-card.winner .result-score {
            color: #f59e0b;
        }

        .controls {
            text-align: center;
            margin: 48px 0;
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .control-button {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
            position: relative;
            overflow: hidden;
        }

        .control-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .control-button:hover:not(:disabled)::before {
            left: 100%;
        }

        .control-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
        }

        .control-button:disabled {
            background: #94a3b8;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        .control-button.secondary {
            background: white;
            color: #6366f1;
            border: 2px solid #6366f1;
        }

        .control-button.secondary:hover:not(:disabled) {
            background: #6366f1;
            color: white;
        }

        .progress-container {
            margin: 32px 0;
        }

        .progress-bar {
            background: #e2e8f0;
            border-radius: 12px;
            height: 8px;
            margin-bottom: 16px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            height: 100%;
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 12px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin: 32px 0;
            flex-wrap: wrap;
            gap: 24px;
        }

        .stat {
            text-align: center;
            padding: 16px;
            background: white;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            min-width: 120px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 4px;
        }

        .stat-label {
            color: #64748b;
            font-size: 0.875rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        @media (max-width: 1024px) {
            .container {
                gap: 20px;
                padding: 20px;
            }



            .game-container,
            .results-section {
                padding: 32px;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 16px;
                gap: 24px;
            }



            .header h1 {
                font-size: 2.5rem;
            }

            .header p {
                font-size: 1.1rem;
            }

            .game-container,
            .results-section {
                padding: 24px;
            }

            .voters-grid {
                grid-template-columns: 1fr;
            }

            .ideas-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }

            .controls {
                flex-direction: column;
                align-items: center;
            }

            .control-button {
                width: 100%;
                max-width: 280px;
            }




        }

        @media (max-width: 480px) {
            .container {
                padding: 12px;
                gap: 16px;
            }

            .header {
                margin-bottom: 32px;
                padding: 20px 0;
            }

            .header h1 {
                font-size: 2rem;
            }

            .header p {
                font-size: 1rem;
            }

            .game-container,
            .results-section {
                padding: 16px;
            }



            .control-button {
                padding: 12px 24px;
                font-size: 0.9rem;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0.8;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }

        .slide-in-right {
            animation: slideInRight 0.4s ease-out;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="main-content">
            <div class="header">
                <h1>üó≥Ô∏è Idea Ranking</h1>
                <p>Click ideas to rank them from best to worst. First click = best, second = second best, etc. Click ranked ideas to unrank them.</p>
            </div>

            <div class="game-container">
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                    </div>

                    <div class="stats">
                        <div class="stat">
                            <div class="stat-number" id="ideasRanked">0</div>
                            <div class="stat-label">Ideas Ranked</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number" id="totalIdeas">20</div>
                            <div class="stat-label">Total Ideas</div>
                        </div>
                    </div>

                    <div class="ideas-section">
                        <h2 class="section-title">üí° Ideas to Rank</h2>
                        <div class="ideas-grid" id="ideasGrid">
                            <!-- Ideas will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="controls">
                        <button class="control-button" id="submitVoteBtn" disabled>Submit Vote</button>
                        <button class="control-button secondary" id="resetBtn">Reset Ranking</button>
                    </div>
                </div>


    </div>

    <script>
        // Game state
        let ideas = [];
        let userRankings = []; // Array of {ideaId, rank} for current user
        let hasSubmitted = false;

        // Initialize the game
        function initGame() {
            createIdeas();
            renderIdeas();
            updateUI();
        }

        // Create 20 ideas
        function createIdeas() {
            const ideaTemplates = [
                'Implement AI-powered customer support',
                'Create mobile app for inventory management',
                'Develop blockchain-based voting system',
                'Build automated testing framework',
                'Design new user onboarding flow',
                'Create data analytics dashboard',
                'Implement real-time collaboration tools',
                'Build API gateway for microservices',
                'Develop machine learning recommendation engine',
                'Create cross-platform desktop application',
                'Implement advanced security protocols',
                'Build scalable cloud infrastructure',
                'Develop IoT device management system',
                'Create interactive learning platform',
                'Build automated deployment pipeline',
                'Implement voice recognition features',
                'Develop virtual reality training module',
                'Create social media analytics tool',
                'Build predictive maintenance system',
                'Implement multi-language support'
            ];

            ideas = ideaTemplates.map((title, index) => ({
                id: index + 1,
                title: title,
                description: `A comprehensive solution for ${title.toLowerCase()}.`,
                rank: null // Will be set when user ranks it
            }));
        }



        // Render ideas
        function renderIdeas() {
            const ideasGrid = document.getElementById('ideasGrid');
            ideasGrid.innerHTML = '';

            // Separate ranked and unranked ideas
            const rankedIdeas = ideas.filter(idea => idea.rank !== null);
            const unrankedIdeas = ideas.filter(idea => idea.rank === null);

            // Sort ranked ideas by rank
            rankedIdeas.sort((a, b) => a.rank - b.rank);

            // Render ranked ideas first
            rankedIdeas.forEach((idea, index) => {
                const ideaCard = document.createElement('div');
                ideaCard.className = 'idea-card fade-in-up ranked';
                ideaCard.style.animationDelay = `${index * 0.05}s`;
                ideaCard.setAttribute('data-idea-id', idea.id);
                ideaCard.onclick = () => rankIdea(idea.id);
                ideaCard.innerHTML = `
                    <div class="rank-badge">${idea.rank}</div>
                    <div class="idea-title">${idea.title}</div>
                    <div class="idea-description">${idea.description}</div>
                    <div style="margin-top: 16px; font-size: 0.875rem; color: #10b981; font-weight: 500;">
                        ‚úì Ranked #${idea.rank} - Click to unrank
                    </div>
                `;
                ideasGrid.appendChild(ideaCard);
            });

            // Render unranked ideas
            unrankedIdeas.forEach((idea, index) => {
                const ideaCard = document.createElement('div');
                ideaCard.className = 'idea-card fade-in-up';
                ideaCard.style.animationDelay = `${(rankedIdeas.length + index) * 0.05}s`;
                ideaCard.setAttribute('data-idea-id', idea.id);
                ideaCard.onclick = () => rankIdea(idea.id);
                ideaCard.innerHTML = `
                    <div class="idea-title">${idea.title}</div>
                    <div class="idea-description">${idea.description}</div>
                    <div style="margin-top: 16px; font-size: 0.875rem; color: #64748b; font-weight: 500;">
                        Click to rank this idea
                    </div>
                `;
                ideasGrid.appendChild(ideaCard);
            });
        }

        // Rank or unrank an idea (click-based ranking)
        function rankIdea(ideaId) {
            const idea = ideas.find(i => i.id === ideaId);
            if (!idea) return;

            // Check if idea is already ranked
            if (idea.rank !== null) {
                // Unrank the idea
                unrankIdea(ideaId);
                return;
            }

            // Get current ranking count
            const currentRank = userRankings.length + 1;

            // Set the rank for this idea
            idea.rank = currentRank;

            // Add to user rankings
            userRankings.push({ ideaId, rank: currentRank });

            // Move to ranked position
            const ideaCard = document.querySelector(`[data-idea-id="${ideaId}"]`);
            if (ideaCard) {
                moveIdeaToRankedPosition(ideaCard, currentRank);
            }

            updateUI();
        }

        // Move idea card to its ranked position with animation
        function moveIdeaToRankedPosition(ideaCard, rank) {
            const ideasGrid = document.getElementById('ideasGrid');

            // Update the card content to show ranked state
            ideaCard.className = 'idea-card fade-in-up ranked';
            const ideaData = ideas.find(i => i.id === parseInt(ideaCard.getAttribute('data-idea-id')));
            ideaCard.innerHTML = `
                <div class="rank-badge">${rank}</div>
                <div class="idea-title">${ideaData.title}</div>
                <div class="idea-description">${ideaData.description}</div>
                <div style="margin-top: 16px; font-size: 0.875rem; color: #10b981; font-weight: 500;">
                    ‚úì Ranked #${rank} - Click to unrank
                </div>
            `;

            // Find the correct position to insert the card
            const allCards = Array.from(ideasGrid.children);
            const rankedCards = allCards.filter(card => card.classList.contains('ranked'));
            const unrankedCards = allCards.filter(card => !card.classList.contains('ranked'));

            // Find where to insert based on rank
            let insertIndex = 0;
            for (let i = 0; i < rankedCards.length; i++) {
                const cardRank = parseInt(rankedCards[i].querySelector('.rank-badge')?.textContent || '0');
                if (cardRank > rank) {
                    break;
                }
                insertIndex = i + 1;
            }

            // Remove from current position and insert at correct ranked position
            ideaCard.remove();
            if (insertIndex < rankedCards.length) {
                ideasGrid.insertBefore(ideaCard, rankedCards[insertIndex]);
            } else if (unrankedCards.length > 0) {
                ideasGrid.insertBefore(ideaCard, unrankedCards[0]);
            } else {
                ideasGrid.appendChild(ideaCard);
            }

            // Add smooth transition
            ideaCard.style.transition = 'all 0.3s ease';
            ideaCard.classList.add('moving');
            setTimeout(() => {
                ideaCard.classList.remove('moving');
            }, 300);
        }

        // Unrank an idea (remove its ranking and update remaining ranks)
        function unrankIdea(ideaId) {
            const idea = ideas.find(i => i.id === ideaId);
            if (!idea || idea.rank === null) return;

            const removedRank = idea.rank;

            // Remove from user rankings
            userRankings = userRankings.filter(r => r.ideaId !== ideaId);

            // Shift all ideas with higher ranks down by one
            ideas.forEach(otherIdea => {
                if (otherIdea.rank > removedRank) {
                    otherIdea.rank -= 1;
                }
            });

            // Clear the rank for this idea
            idea.rank = null;

            // Move to unranked position
            const ideaCard = document.querySelector(`[data-idea-id="${ideaId}"]`);
            if (ideaCard) {
                moveIdeaToUnrankedPosition(ideaCard);
            }

            // Update remaining ranked cards' ranks and content
            updateRemainingRankedCards();

            updateUI();
        }

        // Move idea card to unranked position
        function moveIdeaToUnrankedPosition(ideaCard) {
            const ideasGrid = document.getElementById('ideasGrid');

            // Update the card content to show unranked state
            ideaCard.className = 'idea-card fade-in-up';
            const ideaData = ideas.find(i => i.id === parseInt(ideaCard.getAttribute('data-idea-id')));
            ideaCard.innerHTML = `
                <div class="idea-title">${ideaData.title}</div>
                <div class="idea-description">${ideaData.description}</div>
                <div style="margin-top: 16px; font-size: 0.875rem; color: #64748b; font-weight: 500;">
                    Click to rank this idea
                </div>
            `;

            // Move to end of unranked section (after all ranked cards)
            const allCards = Array.from(ideasGrid.children);
            const unrankedCards = allCards.filter(card => !card.classList.contains('ranked'));

            ideaCard.remove();
            if (unrankedCards.length > 0) {
                ideasGrid.insertBefore(ideaCard, unrankedCards[unrankedCards.length - 1].nextSibling);
            } else {
                ideasGrid.appendChild(ideaCard);
            }

            // Add smooth transition
            ideaCard.style.transition = 'all 0.3s ease';
            ideaCard.classList.add('moving');
            setTimeout(() => {
                ideaCard.classList.remove('moving');
            }, 300);
        }

        // Update remaining ranked cards with new ranks
        function updateRemainingRankedCards() {
            const ideasGrid = document.getElementById('ideasGrid');
            const rankedCards = Array.from(ideasGrid.children).filter(card => card.classList.contains('ranked'));

            rankedCards.forEach((card, index) => {
                const ideaId = parseInt(card.getAttribute('data-idea-id'));
                const newRank = index + 1;

                // Update the idea rank
                const idea = ideas.find(i => i.id === ideaId);
                if (idea) {
                    idea.rank = newRank;
                }

                // Update the card content
                const rankBadge = card.querySelector('.rank-badge');
                if (rankBadge) {
                    rankBadge.textContent = newRank;
                }

                const rankText = card.querySelector('div[style*="margin-top: 16px"]');
                if (rankText) {
                    rankText.innerHTML = `‚úì Ranked #${newRank} - Click to unrank`;
                }
            });
        }







        // Submit vote to server (placeholder)
        function submitVote() {
            if (userRankings.length === 0) {
                alert('Please rank at least one idea before submitting!');
                return;
            }

            if (hasSubmitted) {
                alert('Vote already submitted!');
                return;
            }

            // Here you would send userRankings to the server
            console.log('Submitting vote:', userRankings);
            alert('Vote submitted successfully! (This is a placeholder - actual server submission not implemented)');

            hasSubmitted = true;
            updateUI();
        }

        // Update UI (stats and progress only)
        function updateUI() {
            // Update stats
            const rankedCount = userRankings.length;
            const totalIdeas = ideas.length;
            document.getElementById('ideasRanked').textContent = rankedCount;
            document.getElementById('totalIdeas').textContent = totalIdeas;

            // Update progress
            const progress = (rankedCount / totalIdeas) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;

            // Enable/disable submit button
            const submitBtn = document.getElementById('submitVoteBtn');
            submitBtn.disabled = rankedCount === 0 || hasSubmitted;
            submitBtn.textContent = hasSubmitted ? 'Vote Submitted' : 'Submit Vote';
        }

        // Reset ranking
        function resetRanking() {
            // Reset user rankings
            userRankings = [];
            hasSubmitted = false;

            // Reset idea ranks
            ideas.forEach(idea => {
                idea.rank = null;
            });

            renderIdeas();
            updateUI();
        }

        // Event listeners
        document.getElementById('submitVoteBtn').addEventListener('click', submitVote);
        document.getElementById('resetBtn').addEventListener('click', resetRanking);

        // Initialize the game when page loads
        initGame();
    </script>
</body>

</html>
